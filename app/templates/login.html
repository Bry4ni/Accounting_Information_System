{% extends "base.html" %}
{% block content %}
<div class="min-vh-100 d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg,#eef2ff 0%, #f3e8ff 100%);">
  <div class="card shadow-lg" style="width:420px;">
    <div class="card-body p-4">
      <div class="text-center mb-3">
        <div class="mx-auto mb-2" style="width:72px;height:72px;border-radius:16px;background:linear-gradient(90deg,#2563eb,#7c3aed);display:flex;align-items:center;justify-content:center;">
          <i class="bi bi-calculator" style="color:white;font-size:28px"></i>
        </div>
        <h4 class="mb-0">Accounting Information System</h4>
        <small class="text-muted">Sign in to manage invoices and payments</small>
      </div>

      <form method="POST" action="{{ url_for('auth.login') }}">
        <div class="mb-3">
          <label class="form-label">Email / Username</label>
          <input class="form-control" name="username" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Password</label>
          <input type="password" class="form-control" name="password" required>
        </div>
        <div class="mb-3 form-check">
          <input type="checkbox" class="form-check-input" id="asAdmin" name="as_admin">
          <label class="form-check-label" for="asAdmin">Sign in as Administrator</label>
        </div>
        <button class="btn btn-primary w-100 mb-2" type="submit">Sign In</button>
      </form>

      <div class="text-center my-3">
        <small class="text-muted">Quick Demo Access</small>
      </div>
      <div class="d-flex gap-2">
        <button id="demoAdminBtn" type="button" class="btn btn-outline-secondary w-50">Demo Admin</button>
        <button id="demoClientBtn" type="button" class="btn btn-outline-secondary w-50">Demo Client</button>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', function(){
          var form = document.querySelector('form[action="{{ url_for('auth.login') }}"]');
          var userInp = form.querySelector('input[name="username"]');
          var passInp = form.querySelector('input[name="password"]');
          document.getElementById('demoAdminBtn').addEventListener('click', function(){
            // Seeded admin credentials (see seed.py)
            userInp.value = 'admin@accounting.com'; passInp.value = 'admin123'; form.submit();
          });
          document.getElementById('demoClientBtn').addEventListener('click', function(){
            // Seeded demo client credentials (see seed.py)
            userInp.value = 'client1@example.com'; passInp.value = 'clientpass'; form.submit();
          });
        });
      </script>

      <div class="text-center mt-3">
        <small>Don't have an account? <a href="{{ url_for('auth.register') }}">Register</a></small>
      </div>
    </div>
  </div>
</div>
{% endblock %}